move_base:
  # 坐标系与变换配置
  base_local_planner: "dwa_local_planner/DWAPlannerROS"  # 明确指定 DWA 为局部规划器
  global_frame: map
  robot_base_frame: base_link
  odom_frame: odom
  transform_tolerance: 0.2

  # 导航频率配置
  controller_frequency: 10.0  # 控制频率（与 DWA 采样频率匹配）
  planner_frequency: 1.0      # 全局规划频率（静态地图无需高频）
  planner_patience: 5.0       # 规划超时时间（5秒）
  controller_patience: 10.0    # 控制超时时间（10秒）

  # 恢复行为配置（解决卡住问题）
  recovery_behavior_enabled: true
  clearing_rotation_allowed: true
  recovery_behaviors:
    - name: "conservative_reset"
      type: "clear_costmap_recovery/ClearCostmapRecovery"
    - name: "rotate_recovery"
      type: "rotate_recovery/RotateRecovery"
    - name: "aggressive_reset"
      type: "clear_costmap_recovery/ClearCostmapRecovery"
  conservative_reset:
    reset_distance: 3.0  # 清除机器人周围3m内局部地图
  aggressive_reset:
    reset_distance: 5.0
    layer_names: ["obstacle_layer"]

  # 目标公差（全局配置，无需在 DWA 中重复）
  xy_goal_tolerance: 0.15
  yaw_goal_tolerance: 0.2
  latch_xy_goal_tolerance: true
